import Foundation
/*
//MARK: - main.async
DispatchQueue.main.async {
    for _ in 1...5 {
        print("ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³")
        sleep(1)
    }
}

//DispatchQueue.main.async {
//    for _ in 1...5 {
//        print("ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶")
//        sleep(1)
//    }
//}
// asyncë¼ ê¸°ë‹¤ë¦¬ì§€ ì•Šì§€ë§Œ ë‹¨ì¼ ìŠ¤ë ˆë“œ ì‘ì—…ì´ë¼ ë™ì‹œì²˜ë¦¬ X
//ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³
//ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³
//ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³
//ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³
//ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³
//ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶
//ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶
//ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶
//ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶
//ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶

for _ in 1...5 {
    print("ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶")
    sleep(1)
}
//ğŸ˜³ ì‘ì—…ì„ DispatchQueueì— ë˜ì ¸ë†“ê³ 
//main ìŠ¤ë ˆë“œì—ì„œëŠ” ë‹¤ìŒ ì½”ë“œë¸”ëŸ­ ì‹¤í–‰
//asyncë‹ˆê¹Œ!
//ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶
//ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶
//ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶
//ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶
//ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶
//ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³
//ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³
//ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³
//ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³
//ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³
*/

/*
//MARK: - global().async
DispatchQueue.global().async {
    for _ in 1...5 {
        print("ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³")
        sleep(1)
    }
}

DispatchQueue.global().async {
    for _ in 1...5 {
        print("ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶")
        sleep(2)
    }
}

DispatchQueue.global().async {
    for _ in 1...5 {
        print("ğŸ¥µğŸ¥µğŸ¥µğŸ¥µğŸ¥µ")
        sleep(1)
    }
}
// ë‹¤ë¥¸ ìŠ¤ë ˆë“œ, ë¹„ë™ê¸°
// ì–´ë–¤ ì½”ë“œê°€ ë¨¼ì € ì‹¤í–‰ë ì§€ ì˜ˆì¸¡ ë¶ˆê°€. ë…¼ë¦¬ì ìœ¼ë¡œ ì •í™•í•œ ìˆœì„œë¥¼ ê¸°ëŒ€í•˜ê¸°ëŠ” ì–´ë µë‹¤.
//ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³
//ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶
//ğŸ¥µğŸ¥µğŸ¥µğŸ¥µğŸ¥µ
//ğŸ¥µğŸ¥µğŸ¥µğŸ¥µğŸ¥µ
//ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³
//ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶
//ğŸ¥µğŸ¥µğŸ¥µğŸ¥µğŸ¥µ
//ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³
//ğŸ¥µğŸ¥µğŸ¥µğŸ¥µğŸ¥µ
//ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³
//ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶
//ğŸ¥µğŸ¥µğŸ¥µğŸ¥µğŸ¥µ
//ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³
//ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶
//ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶


//MARK: - global().sync
DispatchQueue.global().sync {
    for _ in 1...5 {
        print("ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³")
        sleep(1)
    }
}

DispatchQueue.global().sync {
    for _ in 1...5 {
        print("ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶")
        sleep(2)
    }
}

for _ in 1...5 { // main ìŠ¤ë ˆë“œì—ì„œ ë™ì‘í•˜ëŠ” ì½”ë“œ
    print("ğŸ¥µğŸ¥µğŸ¥µğŸ¥µğŸ¥µ")
    sleep(1)
}

// ë‹¤ë¥¸ ìŠ¤ë ˆë“œ, ë™ê¸°
// syncë‹ˆê¹Œ ê¸°ë‹¤ë ¤ì•¼ì§€!!
//ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³
//ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³
//ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³
//ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³
//ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³
//ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶
//ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶
//ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶
//ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶
//ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶
//ğŸ¥µğŸ¥µğŸ¥µğŸ¥µğŸ¥µ
//ğŸ¥µğŸ¥µğŸ¥µğŸ¥µğŸ¥µ
//ğŸ¥µğŸ¥µğŸ¥µğŸ¥µğŸ¥µ
//ğŸ¥µğŸ¥µğŸ¥µğŸ¥µğŸ¥µ
//ğŸ¥µğŸ¥µğŸ¥µğŸ¥µğŸ¥µ
*/

//MARK: - DispatchWorkItem ì½”ë“œë¸”ë¡ ìº¡ìŠí™” -> íƒ€ì…ëª…ì‹œ, ì§ê´€ì ì¸ ì½”ë“œ ì‘ì„± ê°€ëŠ¥

let red = DispatchWorkItem {
    for _ in 1...3 {
        print("ğŸ¥µğŸ¥µğŸ¥µğŸ¥µğŸ¥µ")
        sleep(1)
    }
}

let yellow = DispatchWorkItem {
    for _ in 1...3 {
        print("ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³")
        sleep(1)
    }
}

let blue = DispatchWorkItem {
    for _ in 1...3 {
        print("ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶")
        sleep(1)
    }
}

/*
DispatchQueue.main.async(execute: yellow) // ì´ë ‡ê²Œ ì‹¤í–‰ ê°€ëŠ¥
DispatchQueue.global().sync(execute: blue)

// asyncë¡œ ë©”ì¸ íì— ë˜ì§€ê³  ê·¸ì‚¬ì´ì— ë©”ì¸ìŠ¤ë ˆë“œì—ì„œëŠ” global.sync ì‘ì—…ì´ ì§„í–‰ë˜ê³ !!
// ê·¸ë˜ì„œ b3 y3
*/
/*
// 1 ìˆœì„œê°€ ì•„ë‹ˆë¼ ë™ì‹œë¼ ìˆœì„œë¥¼ ì •í•˜ë©´ ì•ˆëœë‹¤. ìˆœì„œëŠ” ì•Œ ìˆ˜ ì—†ë‹¤.
DispatchQueue.global().async(execute: yellow) // ìƒˆ ìŠ¤ë ˆë“œ. ì•ˆê¸°ë‹¤ë¦¼
DispatchQueue.global().sync(execute: blue) // ìƒˆ ìŠ¤ë ˆë“œ. ê¸°ë‹¤ë¦¼
DispatchQueue.main.async(execute: red) // ë©”ì¸ ìŠ¤ë ˆë“œ. ì•ˆê¸°ë‹¤ë¦¼
//

ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶
ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³
ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶
ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³
ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶ğŸ¥¶
ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³
ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³
ğŸ¥µğŸ¥µğŸ¥µğŸ¥µğŸ¥µ
ğŸ¥µğŸ¥µğŸ¥µğŸ¥µğŸ¥µ
ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³
ğŸ¥µğŸ¥µğŸ¥µğŸ¥µğŸ¥µ
ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³ğŸ˜³
*/
/*
// 2
DispatchQueue.global().sync(execute: yellow) // ìƒˆ ìŠ¤ë ˆë“œ. ê¸°ë‹¤ë¦¼
DispatchQueue.global().async(execute: blue) // ìƒˆ ìŠ¤ë ˆë“œ. ì•ˆê¸°ë‹¤ë¦¼
DispatchQueue.main.async(execute: red) // ë©”ì¸ ìŠ¤ë ˆë“œ. ì•ˆê¸°ë‹¤ë¦¼
// y3 r&b ë“œë””ì–´ ì„±ê³µ!!!!
*/

/*
// 3
DispatchQueue.main.async(execute: yellow) // ë©”ì¸ ìŠ¤ë ˆë“œ. ì•ˆê¸°ë‹¤ë¦¼
DispatchQueue.global().async(execute: blue) // ìƒˆ ìŠ¤ë ˆë“œ. ê¸°ë‹¤ë¦¼
DispatchQueue.global().sync(execute: red) // ìƒˆ ìŠ¤ë ˆë“œ. ì•ˆê¸°ë‹¤ë¦¼

// main.asyncëŠ” ë§¨ë°‘ìœ¼ë¡œ ê°€ê³  (ë‹¤ì‹œ)!!
*/

/*
// 4
DispatchQueue.main.async(execute: yellow) // ë©”ì¸ ìŠ¤ë ˆë“œ. ì•ˆê¸°ë‹¤ë¦¼
DispatchQueue.global().sync(execute: blue) // ìƒˆ ìŠ¤ë ˆë“œ. ê¸°ë‹¤ë¦¼
DispatchQueue.global().async(execute: red) // ìƒˆ ìŠ¤ë ˆë“œ. ì•ˆê¸°ë‹¤ë¦¼

// b3 ,r&y ì„±ê³µ ã… ã… ã…  ìš¸ì–´ ğŸ¥¹ ê·¸ì¹˜ë§Œ ê¼­ ë‹¤ì‹œ ë³´ê¸°
*/
//let startTime = Date()
//// .now()(ì§€ê¸ˆ) thread ìƒì„± í›„ 5ì´ˆ
//func after() {
//    DispatchQueue.global().asyncAfter(deadline: .now() + 5, execute: yellow)
//}
//
//after()
//
//
//let workTime = Date().timeIntervalSince(startTime)
//
//print(workTime) // ì‹œê°„ ê¶ê¸ˆí–ˆëŠ”ë°ğŸ˜• ì´ê±´ ë‚˜ì¤‘ì— í•´ë³´ì!


// .now()(ì§€ê¸ˆ) thread ìƒì„± í›„ 5ì´ˆ
// deadlineì€ ìŠ¤í†±ì›Œì¹˜ 5ì´ˆ
DispatchQueue.global().asyncAfter(deadline: .now() + 5, execute: yellow)

// wallDeadline
DispatchQueue.global().asyncAfter(wallDeadline: .now() + 5, execute: blue)
